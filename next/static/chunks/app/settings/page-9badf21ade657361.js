(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{9900:function(e,t,r){Promise.resolve().then(r.bind(r,1211)),Promise.resolve().then(r.bind(r,3984)),Promise.resolve().then(r.t.bind(r,2972,23))},3984:function(e,t,r){"use strict";r.d(t,{SettingsForm:function(){return p}});var a=r(7437),i=r(2869),s=r(5186),n=r(6815),l=r(6818),o=r(6831),d=r(970),c=r(2265),u=r(9376);function p(e){var t,r;let{profile:p,user:m}=e,[x,v]=(0,c.useState)({username:(null==p?void 0:p.username)||"",display_name:(null==p?void 0:p.display_name)||"",bio:(null==p?void 0:p.bio)||"",website:(null==p?void 0:p.website)||"",location:(null==p?void 0:p.location)||""}),[b,g]=(0,c.useState)(!1),[h,f]=(0,c.useState)(null),y=(0,u.useRouter)(),j=(0,d.e)(),w=async e=>{e.preventDefault(),g(!0),f(null);try{let{error:e}=await j.from("profiles").upsert({id:m.id,...x,updated_at:new Date().toISOString()});if(e)throw e;f({type:"success",text:"Profile updated successfully!"}),y.refresh()}catch(e){console.error("Error updating profile:",e),f({type:"error",text:"Failed to update profile. Please try again."})}finally{g(!1)}},N=(e,t)=>{v(r=>({...r,[e]:t}))};return(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(o.Avatar,{className:"w-20 h-20",children:[(0,a.jsx)(o.AvatarImage,{src:(null==p?void 0:p.avatar_url)||"/placeholder.svg",alt:null==p?void 0:p.display_name}),(0,a.jsx)(o.AvatarFallback,{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white text-xl",children:(null===(t=x.display_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||(null===(r=m.email)||void 0===r?void 0:r.charAt(0).toUpperCase())})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.z,{type:"button",variant:"outline",size:"sm",children:"Change Photo"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or GIF. Max size 2MB."})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"username",children:"Username"}),(0,a.jsx)(s.I,{id:"username",type:"text",value:x.username,onChange:e=>N("username",e.target.value),placeholder:"@username",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"display_name",children:"Display Name"}),(0,a.jsx)(s.I,{id:"display_name",type:"text",value:x.display_name,onChange:e=>N("display_name",e.target.value),placeholder:"Your display name",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"bio",children:"Bio"}),(0,a.jsx)(l.g,{id:"bio",value:x.bio,onChange:e=>N("bio",e.target.value),placeholder:"Tell us about yourself...",rows:3,maxLength:160}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[x.bio.length,"/160 characters"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"website",children:"Website"}),(0,a.jsx)(s.I,{id:"website",type:"url",value:x.website,onChange:e=>N("website",e.target.value),placeholder:"https://yourwebsite.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"location",children:"Location"}),(0,a.jsx)(s.I,{id:"location",type:"text",value:x.location,onChange:e=>N("location",e.target.value),placeholder:"City, Country"})]})]}),h&&(0,a.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat("success"===h.type?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:h.text}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.z,{type:"submit",disabled:b,className:"bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white",children:b?"Saving...":"Save Changes"})})]})}},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var a=r(7437);r(2265);var i=r(4508);function s(e){let{className:t,type:r,...s}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},6815:function(e,t,r){"use strict";r.d(t,{Label:function(){return n}});var a=r(7437);r(2265);var i=r(6394),s=r(4508);function n(e){let{className:t,...r}=e;return(0,a.jsx)(i.f,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},6818:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var a=r(7437);r(2265);var i=r(4508);function s(e){let{className:t,...r}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var a=r(2265),i=r(6840),s=r(7437),n=a.forwardRef((e,t)=>(0,s.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n}},function(e){e.O(0,[972,338,964,430,211,971,117,744],function(){return e(e.s=9900)}),_N_E=e.O()}]);