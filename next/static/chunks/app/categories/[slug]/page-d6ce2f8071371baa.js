(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{100:function(e,t,n){Promise.resolve().then(n.bind(n,2519))},2519:function(e,t,n){"use strict";n.d(t,{PostGrid:function(){return d}});var r=n(7437),s=n(6070),a=n(2208),i=n(8997),c=n(2718),o=n(7648),l=n(2265),u=n(970);function d(e){let{userId:t,type:n}=e,[d,m]=(0,l.useState)([]),[f,h]=(0,l.useState)(!0),p=(0,u.e)();(0,l.useEffect)(()=>{g()},[t,n]);let g=async()=>{h(!0);try{let e=p.from("posts").select("\n          id,\n          content,\n          image_url,\n          like_count,\n          comment_count,\n          view_count,\n          created_at,\n          profiles:author_id (\n            username,\n            display_name,\n            avatar_url\n          )\n        ");switch(n){case"posts":e=e.eq("author_id",t);break;case"saved":e=e.select("\n              id,\n              content,\n              image_url,\n              like_count,\n              comment_count,\n              view_count,\n              created_at,\n              profiles:author_id (\n                username,\n                display_name,\n                avatar_url\n              ),\n              saved_posts!inner (user_id)\n            ").eq("saved_posts.user_id",t);break;case"liked":e=e.select("\n              id,\n              content,\n              image_url,\n              like_count,\n              comment_count,\n              view_count,\n              created_at,\n              profiles:author_id (\n                username,\n                display_name,\n                avatar_url\n              ),\n              likes!inner (user_id)\n            ").eq("likes.user_id",t).not("likes.post_id","is",null);break;case"tagged":e=e.select("\n              id,\n              content,\n              image_url,\n              like_count,\n              comment_count,\n              view_count,\n              created_at,\n              profiles:author_id (\n                username,\n                display_name,\n                avatar_url\n              )\n            ").textSearch("content","@".concat(t))}let{data:r,error:s}=await e.order("created_at",{ascending:!1}).limit(12);if(s)throw s;let a=(null==r?void 0:r.map(e=>({...e,author:Array.isArray(e.profiles)?e.profiles[0]:e.profiles})))||[];m(a)}catch(e){console.error("Error fetching posts:",e),m([])}finally{h(!1)}};return f?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,t)=>(0,r.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg animate-pulse"},t))}):0===d.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(a.Z,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No posts yet"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["posts"===n&&"Start sharing your style moments!","saved"===n&&"Save posts you love to see them here.","liked"===n&&"Posts you like will appear here.","tagged"===n&&"Posts where you're tagged will show up here."]})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,r.jsx)(o.default,{href:"/post/".concat(e.id),children:(0,r.jsx)(s.Zb,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300",children:(0,r.jsxs)("div",{className:"aspect-square relative overflow-hidden",children:[(0,r.jsx)("img",{src:e.image_url||"/placeholder.svg",alt:"Post content",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5 fill-current"}),(0,r.jsx)("span",{className:"font-semibold",children:e.like_count})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5 fill-current"}),(0,r.jsx)("span",{className:"font-semibold",children:e.comment_count})]})]})})]})})},e.id))})}},6070:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return a},aY:function(){return l},ll:function(){return c}});var r=n(7437);n(2265);var s=n(4508);function a(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}function i(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...n})}function c(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...n})}function o(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...n})}function l(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...n})}},970:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(338);function s(){return(0,r.createBrowserClient)("https://tdqbdkwokdsudijppjcy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkcWJka3dva2RzdWRpanBwamN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MTk3NTEsImV4cCI6MjA3MjM5NTc1MX0.ZyW2ggeup_A45cenGjVPFebfVMKwrE6c9NP7xgWLUrU")}},4508:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(1994),s=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},9205:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:n,strokeWidth:o?24*Number(c)/Number(s):c,className:a("lucide",l),...m},[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),o=(e,t)=>{let n=(0,r.forwardRef)((n,i)=>{let{className:o,...l}=n;return(0,r.createElement)(c,{ref:i,iconNode:t,className:a("lucide-".concat(s(e)),o),...l})});return n.displayName="".concat(e),n}},2208:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8997:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2718:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])}},function(e){e.O(0,[972,338,964,971,117,744],function(){return e(e.s=100)}),_N_E=e.O()}]);