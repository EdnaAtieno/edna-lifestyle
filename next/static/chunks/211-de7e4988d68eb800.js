"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{6413:function(e,t,r){r.d(t,{AuthProvider:function(){return o},a:function(){return l}});var a=r(7437),s=r(970),n=r(2265);let i=(0,n.createContext)({user:null,loading:!0,signOut:async()=>{}});function o(e){let{children:t}=e,[r,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=null;try{e=(0,s.e)()}catch(e){console.warn("Supabase client creation failed:",e),u(!0),o({id:"mock-user-id",email:"demo@edna.com",app_metadata:{},user_metadata:{avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",full_name:"Demo User"},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),aud:"authenticated",role:"authenticated"}),c(!1);return}if(!e||d){c(!1);return}(async()=>{try{var t;let{data:{session:r}}=await e.auth.getSession();o(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null)}catch(e){console.warn("Failed to get session:",e),o(null)}c(!1)})();let{data:{subscription:t}}=e.auth.onAuthStateChange(async(e,t)=>{var r;o(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),c(!1)});return()=>t.unsubscribe()},[d]);let h=async()=>{if(d){o(null);return}try{let e=(0,s.e)();await e.auth.signOut()}catch(e){console.warn("Sign out failed:",e),o(null)}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:l,signOut:h},children:t})}let l=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1211:function(e,t,r){r.d(t,{Navigation:function(){return p}});var a=r(7437),s=r(2869),n=r(6831),i=r(6413),o=r(7648),l=r(9376),c=r(3247),d=r(9397),u=r(8997),h=r(2718),f=r(875),g=r(2369),x=r(8728),m=r(7692),v=r(2265);function p(){var e;let{user:t,signOut:r}=(0,i.a)(),p=(0,l.useRouter)(),[b,j]=(0,v.useState)(!1),y=async()=>{console.log("[v0] Sign out clicked");try{await r(),console.log("[v0] Sign out successful"),p.push("/")}catch(e){console.error("[v0] Sign out error:",e)}j(!1)};return(0,a.jsx)("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(o.default,{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-500 to-orange-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-bold text-white",children:"E"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"EDNA"})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search posts, people, or tags...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.z,{asChild:!0,size:"sm",className:"bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white",children:(0,a.jsxs)(o.default,{href:"/create",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Create"]})}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(s.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)(o.default,{href:"/notifications",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})}),(0,a.jsx)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Notifications"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(s.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)(o.default,{href:"/messages",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})}),(0,a.jsx)("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Messages"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>{console.log("[v0] Profile button clicked"),j(!b)},className:"flex items-center space-x-2 p-1 rounded-full hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)(n.Avatar,{className:"h-8 w-8",children:[(0,a.jsx)(n.AvatarImage,{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",alt:t.email||"User"}),(0,a.jsx)(n.AvatarFallback,{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white text-sm font-medium",children:(null===(e=t.email)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})]}),(0,a.jsx)(f.Z,{className:"w-4 h-4 text-gray-500"})]}),b&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,a.jsxs)(o.default,{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>{console.log("[v0] Profile link clicked"),j(!1)},children:[(0,a.jsx)(g.Z,{className:"mr-3 h-4 w-4"}),"View Profile"]}),(0,a.jsxs)(o.default,{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>{console.log("[v0] Settings link clicked"),j(!1)},children:[(0,a.jsx)(x.Z,{className:"mr-3 h-4 w-4"}),"Settings"]}),(0,a.jsx)("hr",{className:"my-2 border-gray-200"}),(0,a.jsxs)("button",{onClick:y,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(m.Z,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(s.z,{variant:"ghost",asChild:!0,children:(0,a.jsx)(o.default,{href:"/auth/login",children:"Sign In"})}),(0,a.jsx)(s.z,{asChild:!0,className:"bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white",children:(0,a.jsx)(o.default,{href:"/auth/signup",children:"Sign Up"})})]})})]})})})}t.default=p},6831:function(e,t,r){r.d(t,{Avatar:function(){return i},AvatarFallback:function(){return l},AvatarImage:function(){return o}});var a=r(7437);r(2265);var s=r(4930),n=r(4508);function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.Ee,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(s.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},2869:function(e,t,r){r.d(t,{z:function(){return l}});var a=r(7437);r(2265);var s=r(7053),n=r(535),i=r(4508);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...c}=e,d=l?s.g7:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...c})}},970:function(e,t,r){r.d(t,{e:function(){return s}});var a=r(338);function s(){return(0,a.createBrowserClient)("https://tdqbdkwokdsudijppjcy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkcWJka3dva2RzdWRpanBwamN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MTk3NTEsImV4cCI6MjA3MjM5NTc1MX0.ZyW2ggeup_A45cenGjVPFebfVMKwrE6c9NP7xgWLUrU")}},4508:function(e,t,r){r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}}]);